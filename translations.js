// Sistema de traducciones para Chakipur Dashboard
const translations = {
    es: {
        // Login
        'login.subtitle': 'Dashboard de Análisis Inteligente',
        'login.email': 'Correo Electrónico',
        'login.password': 'Contraseña',
        'login.signin': 'Iniciar Sesión',
        'login.or': 'o',
        'login.google': 'Continuar con Google',
        'login.secure': '🔒 Conexión segura y cifrada',
        
        // Dashboard Header
        'header.title': 'Chakipur Dashboard',
        'header.logout': 'Cerrar Sesión',
        'header.profile': 'Perfil',
        'header.settings': 'Configuración',
        
        // Navigation
        'nav.overview': 'Resumen',
        'nav.incidents': 'Incidentes',
        'nav.trends': 'Tendencias',
        'nav.time': 'Análisis Temporal',
        'nav.kpis': 'KPIs',
        'nav.reports': 'Reportes',
        
        // Summary Cards
        'summary.responseTime': 'Tiempo de Respuesta',
        'summary.successRate': 'Tasa de Éxito',
        'summary.incidentCount': 'Número de Incidentes',
        'summary.userSatisfaction': 'Satisfacción del Usuario',
        
        // Sections
        'section.overview': 'Resumen General',
        'section.incidents': 'Análisis de Incidentes',
        'section.trends': 'Análisis de Tendencias',
        'section.time': 'Análisis de Tiempo',
        'section.kpis': 'Indicadores Clave de Rendimiento (KPIs)',
        
        // Charts
        'chart.incidentsByType': 'Incidentes por Tipo',
        'chart.heatmap': 'Mapa de Calor - Ubicaciones',
        'chart.monthlyTrends': 'Tendencias Mensuales',
        'chart.hourlyIncidents': 'Incidentes por Hora',
        'chart.dailyIncidents': 'Incidentes por Día',
        
        // KPI Table
        'kpi.indicator': 'Indicador',
        'kpi.current': 'Valor Actual',
        'kpi.target': 'Objetivo',
        'kpi.status': 'Estado',
        'kpi.achieved': 'Cumplido',
        'kpi.warning': 'Atención',
        'kpi.critical': 'Crítico',
        
        // Chatbot
        'chatbot.title': 'Asistente Chakipur',
        'chatbot.placeholder': 'Escribe tu pregunta aquí...',
        'chatbot.send': 'Enviar',
        'chatbot.welcome': '¡Hola! Soy tu asistente virtual. ¿En qué puedo ayudarte hoy?',
        
        // Buttons
        'btn.insights': 'Ver Insights',
        'btn.recommendations': 'Recomendaciones',
        'btn.export': 'Exportar Reporte',
        'btn.refresh': 'Actualizar Datos',
        'btn.help': 'Ayuda',
        
        // Insights
        'insights.title': 'Conclusiones Inteligentes',
        'insights.performance': 'Análisis de Rendimiento',
        'insights.recommendations': 'Recomendaciones',
        'insights.nextSteps': 'Próximos Pasos',
        
        // Time periods
        'time.hour': 'Hora',
        'time.day': 'Día',
        'time.week': 'Semana',
        'time.month': 'Mes',
        'time.year': 'Año',
        
        // Days of week
        'day.monday': 'Lunes',
        'day.tuesday': 'Martes',
        'day.wednesday': 'Miércoles',
        'day.thursday': 'Jueves',
        'day.friday': 'Viernes',
        'day.saturday': 'Sábado',
        'day.sunday': 'Domingo',
        
        // Months
        'month.january': 'Enero',
        'month.february': 'Febrero',
        'month.march': 'Marzo',
        'month.april': 'Abril',
        'month.may': 'Mayo',
        'month.june': 'Junio',
        'month.july': 'Julio',
        'month.august': 'Agosto',
        'month.september': 'Septiembre',
        'month.october': 'Octubre',
        'month.november': 'Noviembre',
        'month.december': 'Diciembre'
    },
    
    qu: {
        // Login
        'login.subtitle': 'Yachay Qhaway Tabla',
        'login.email': 'Correo Electrónico',
        'login.password': 'Yaykuna Rimi',
        'login.signin': 'Yaykuy',
        'login.or': 'utaq',
        'login.google': 'Google nisqawan Yaykuy',
        'login.secure': '🔒 Amachasqa Tinkiy',
        
        // Dashboard Header
        'header.title': 'Chakipur Qhaway Tabla',
        'header.logout': 'Lluqsiy',
        'header.profile': 'Perfil',
        'header.settings': 'Churay',
        
        // Navigation
        'nav.overview': 'Tukuy Qhaway',
        'nav.incidents': 'Sasachakuykuna',
        'nav.trends': 'Puriykuna',
        'nav.time': 'Pacha Qhaway',
        'nav.kpis': 'Hatun Rikuchiqkuna',
        'nav.reports': 'Willakuykuna',
        
        // Summary Cards
        'summary.responseTime': 'Kutichiy Pacha',
        'summary.successRate': 'Allin Ruway',
        'summary.incidentCount': 'Sasachakuy Yupay',
        'summary.userSatisfaction': 'Llamkaqpa Kusikuy',
        
        // Sections
        'section.overview': 'Tukuy Qhaway',
        'section.incidents': 'Sasachakuykuna Qhaway',
        'section.trends': 'Puriykuna Qhaway',
        'section.time': 'Pacha Qhaway',
        'section.kpis': 'Hatun Rikuchiqkuna (KPIs)',
        
        // Charts
        'chart.incidentsByType': 'Sasachakuykuna Laya Kaqman Hina',
        'chart.heatmap': 'Ruphay Mapa - Chaykunapi',
        'chart.monthlyTrends': 'Killapi Puriykuna',
        'chart.hourlyIncidents': 'Horapaq Sasachakuykuna',
        'chart.dailyIncidents': 'Punchawpaq Sasachakuykuna',
        
        // KPI Table
        'kpi.indicator': 'Rikuchiq',
        'kpi.current': 'Kunan Chanin',
        'kpi.target': 'Munasqa',
        'kpi.status': 'Imaynan Kachkan',
        'kpi.achieved': 'Ayparisqa',
        'kpi.warning': 'Yuyaymanay',
        'kpi.critical': 'Sasachakuy',
        
        // Chatbot
        'chatbot.title': 'Chakipur Yanapaq',
        'chatbot.placeholder': 'Tapukuykita qillqay kaypi...',
        'chatbot.send': 'Kachay',
        'chatbot.welcome': '¡Napaykullayki! Ñuqaqa yanapaqniyki kani. ¿Imaynatataq yanapasayki?',
        
        // Buttons
        'btn.insights': 'Yachaykuna Qhaway',
        'btn.recommendations': 'Yuyaychakuykuna',
        'btn.export': 'Willakuy Lluqsichiy',
        'btn.refresh': 'Musuqyachiy',
        'btn.help': 'Yanapay',
        
        // Insights
        'insights.title': 'Yachaysapa Tukuchiykuna',
        'insights.performance': 'Ruway Qhaway',
        'insights.recommendations': 'Yuyaychakuykuna',
        'insights.nextSteps': 'Qatiq Llamkaykuna',
        
        // Time periods
        'time.hour': 'Hora',
        'time.day': 'Punchaw',
        'time.week': 'Simana',
        'time.month': 'Killa',
        'time.year': 'Wata',
        
        // Days of week
        'day.monday': 'Lunis',
        'day.tuesday': 'Martis',
        'day.wednesday': 'Miyirkulis',
        'day.thursday': 'Juyvis',
        'day.friday': 'Viyirnis',
        'day.saturday': 'Savaru',
        'day.sunday': 'Tuminku',
        
        // Months
        'month.january': 'Qhulla Puquy',
        'month.february': 'Hatun Puquy',
        'month.march': 'Pauqar Waray',
        'month.april': 'Ayriway',
        'month.may': 'Aymuray',
        'month.june': 'Inti Raymi',
        'month.july': 'Anta Situwa',
        'month.august': 'Qhapaq Situwa',
        'month.september': 'Kuya Raymi',
        'month.october': 'Uma Raymi',
        'month.november': 'Ayamarqay',
        'month.december': 'Qhapaq Raymi'
    },
    
    en: {
        // Login
        'login.subtitle': 'Intelligent Analytics Dashboard',
        'login.email': 'Email Address',
        'login.password': 'Password',
        'login.signin': 'Sign In',
        'login.or': 'or',
        'login.google': 'Continue with Google',
        'login.secure': '🔒 Secure and encrypted connection',
        
        // Dashboard Header
        'header.title': 'Chakipur Dashboard',
        'header.logout': 'Logout',
        'header.profile': 'Profile',
        'header.settings': 'Settings',
        
        // Navigation
        'nav.overview': 'Overview',
        'nav.incidents': 'Incidents',
        'nav.trends': 'Trends',
        'nav.time': 'Time Analysis',
        'nav.kpis': 'KPIs',
        'nav.reports': 'Reports',
        
        // Summary Cards
        'summary.responseTime': 'Response Time',
        'summary.successRate': 'Success Rate',
        'summary.incidentCount': 'Incident Count',
        'summary.userSatisfaction': 'User Satisfaction',
        
        // Sections
        'section.overview': 'General Overview',
        'section.incidents': 'Incident Analysis',
        'section.trends': 'Trend Analysis',
        'section.time': 'Time Analysis',
        'section.kpis': 'Key Performance Indicators (KPIs)',
        
        // Charts
        'chart.incidentsByType': 'Incidents by Type',
        'chart.heatmap': 'Heat Map - Locations',
        'chart.monthlyTrends': 'Monthly Trends',
        'chart.hourlyIncidents': 'Incidents by Hour',
        'chart.dailyIncidents': 'Incidents by Day',
        
        // KPI Table
        'kpi.indicator': 'Indicator',
        'kpi.current': 'Current Value',
        'kpi.target': 'Target',
        'kpi.status': 'Status',
        'kpi.achieved': 'Achieved',
        'kpi.warning': 'Warning',
        'kpi.critical': 'Critical',
        
        // Chatbot
        'chatbot.title': 'Chakipur Assistant',
        'chatbot.placeholder': 'Type your question here...',
        'chatbot.send': 'Send',
        'chatbot.welcome': 'Hello! I\'m your virtual assistant. How can I help you today?',
        
        // Buttons
        'btn.insights': 'View Insights',
        'btn.recommendations': 'Recommendations',
        'btn.export': 'Export Report',
        'btn.refresh': 'Refresh Data',
        'btn.help': 'Help',
        
        // Insights
        'insights.title': 'Smart Insights',
        'insights.performance': 'Performance Analysis',
        'insights.recommendations': 'Recommendations',
        'insights.nextSteps': 'Next Steps',
        
        // Time periods
        'time.hour': 'Hour',
        'time.day': 'Day',
        'time.week': 'Week',
        'time.month': 'Month',
        'time.year': 'Year',
        
        // Days of week
        'day.monday': 'Monday',
        'day.tuesday': 'Tuesday',
        'day.wednesday': 'Wednesday',
        'day.thursday': 'Thursday',
        'day.friday': 'Friday',
        'day.saturday': 'Saturday',
        'day.sunday': 'Sunday',
        
        // Months
        'month.january': 'January',
        'month.february': 'February',
        'month.march': 'March',
        'month.april': 'April',
        'month.may': 'May',
        'month.june': 'June',
        'month.july': 'July',
        'month.august': 'August',
        'month.september': 'September',
        'month.october': 'October',
        'month.november': 'November',
        'month.december': 'December'
    }
};

// Sistema de traducción
class TranslationSystem {
    constructor() {
        this.currentLanguage = localStorage.getItem('chakipur_language') || 'es';
        this.init();
    }
    
    init() {
        this.updateLanguage(this.currentLanguage);
        this.setupLanguageSelector();
    }
    
    setupLanguageSelector() {
        const selector = document.getElementById('languageSelector');
        if (selector) {
            selector.value = this.currentLanguage;
            selector.addEventListener('change', (e) => {
                this.updateLanguage(e.target.value);
            });
        }
    }
    
    updateLanguage(lang) {
        this.currentLanguage = lang;
        localStorage.setItem('chakipur_language', lang);
        document.documentElement.lang = lang;
        this.translatePage();
    }
    
    translatePage() {
        const elements = document.querySelectorAll('[data-translate]');
        elements.forEach(element => {
            const key = element.getAttribute('data-translate');
            const translation = this.getTranslation(key);
            if (translation) {
                if (element.tagName === 'INPUT' && element.type === 'text') {
                    element.placeholder = translation;
                } else {
                    element.textContent = translation;
                }
            }
        });
    }
    
    getTranslation(key) {
        const langTranslations = translations[this.currentLanguage];
        return langTranslations ? langTranslations[key] : translations.es[key];
    }
    
    t(key) {
        return this.getTranslation(key);
    }
}

// Inicializar sistema de traducción
const translator = new TranslationSystem();

// Exportar para uso global
window.translator = translator;